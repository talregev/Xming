XCOMM $Xorg: Imakefile,v 1.3 2000/08/17 19:46:34 cpqbld Exp $




XCOMM $XFree86: xc/lib/font/bitmap/Imakefile,v 1.11 2001/04/03 17:51:59 paulo Exp $

#if BuildServer && DoLoadableServer
#define IHaveSubdirs
#define NoLibSubdirs
#define PassCDebugFlags
SUBDIRS = module
#endif

BDFSRCS=bdfread.c bdfutils.c
BDFOBJS=bdfread.o bdfutils.o
#ifndef KDriveXServer
BDFDEFS=-DBDFFORMAT

SNFSRCS=snfread.c
SNFOBJS=snfread.o
SNFDEFS=-DSNFFORMAT
#endif

PCFSRCS=pcfread.c pcfwrite.c
PCFOBJS=pcfread.o pcfwrite.o
PCFDEFS=-DPCFFORMAT


        INCLUDES = -I$(FONTINCSRC) -I../include 
         HEADERS = bdfint.h pcf.h
#ifdef FontFormatDefines
     FORMAT_DEFS = FontFormatDefines
#endif
#if GzipFontCompression
       GZIP_DEFS = -DX_GZIP_FONT_COMPRESSION
#endif
         DEFINES = $(BDFDEFS) $(PCFDEFS) $(SNFDEFS)

            SRCS = $(BDFSRCS) bitmap.c bitmaputil.c bitscale.c \
		   bitmapfunc.c $(PCFSRCS) $(SNFSRCS) \
		   fontink.c 

            OBJS = $(BDFOBJS) bitmap.o bitmaputil.o bitscale.o \
		   bitmapfunc.o $(PCFOBJS) $(SNFOBJS) \
		   fontink.o

#if BuildFontLib
#define DoNormalLib NormalLibFont
#define DoSharedLib SharedLibFont
#define DoDebugLib DebugLibFont
#define DoProfileLib ProfileLibFont
#include <Library.tmpl>
LibraryObjectRule()

SpecialCLibObjectRule(bitmapfunc,$(ICONFIGFILES),$(GZIP_DEFS))
SpecialCLibObjectRule(bitscale,$(ICONFIGFILES),$(GZIP_DEFS))

SubdirLibraryRule($(OBJS))
NormalLintTarget($(SRCS))
#endif

#if BuildServer && DoLoadableServer
MakeSubdirs($(SUBDIRS))
DependSubdirs($(SUBDIRS))
#endif

BuildIncludes($(HEADERS),X11/fonts,../..)
InstallMultipleFlags($(HEADERS),$(INCDIR)/X11/fonts,$(INSTINCFLAGS))

DependTarget()
